---
title: "Network Effects Fixed Point Analysis"
format: html
---
This notebook recreates work previously shared with the CAS team, but now in a more formal source code.
The model will continue to grow, expand, and improve as we add new features.
These cells will create some of the graphs used in the paper, presentations, and test the plotting functions.
```{r}
source("./h2_adopt_model.R")
source("./h2_adopt_model_plots.R")
```


```{r}
# Create simple Nash Eq plot 
library(tidyverse)

# Set the model parameters using named vectors
my_model <- data.frame("p_h" = 1.2
    , "f_h" = 3.0
    , "delta" = 0.04
    , "gamma" = 0.02
    , "x" = 6.0)

#curve_data = data.frame("s" = seq(0.0, 1.0, 0.001))
#curve_data["ks"] = adoption_curve(curve_data["s"], my_model)
#ne_data = data.frame("ne"=nash_equilibria(curve_data["s"], my_model))
plot_df <- ne_plot_simple_data(my_model)
# Pass model parameters to plot function
ne_plot_simple(plot_df[[1]], plot_df[[2]], "test_plot.pdf")
```


```{r}
plot_df2 <- ne_plot_recursive_data(my_model)
ne_plot_recursive(plot_df2, my_model)
```


```{r}
?ne_plot_simple_data
```